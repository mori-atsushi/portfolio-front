---
export interface Props {
	nextPost?: { id: string; title: string } | null;
	prevPost?: { id: string; title: string } | null;
}

const { nextPost, prevPost } = Astro.props;
---

{(nextPost || prevPost) && (
	<nav class="post-navigation">
		<div class="nav-container">
			{nextPost && (
				<div class="nav-item nav-newer">
					<a href={`/blog/${nextPost.id}`}>
						<span class="nav-label">次の記事</span>
						<span class="nav-title">{nextPost.title}</span>
					</a>
				</div>
			)}
			{prevPost && (
				<div class="nav-item nav-older">
					<a href={`/blog/${prevPost.id}`}>
						<span class="nav-label">前の記事</span>
						<span class="nav-title">{prevPost.title}</span>
					</a>
				</div>
			)}
		</div>
	</nav>
)}

<style>
.post-navigation {
	padding: 2rem 0;
}

.nav-container {
	width: 100%;
	margin: 0 auto;
	display: grid;
	grid-template-columns: 1fr 1fr;
	gap: 1rem;
}

.nav-container:has(.nav-older:only-child) .nav-older {
  grid-column: 2;
}

.nav-item {
	display: flex;
	width: 100%;
}

.nav-newer {
	justify-self: start;
}

.nav-older {
	justify-self: end;
	text-align: right;
}

.nav-newer {
  justify-content: flex-start;
}

.nav-older {
  justify-content: flex-end;
  text-align: right;
}

.nav-item a {
	display: flex;
	flex-direction: column;
	text-decoration: none;
	color: rgb(var(--black));
	padding: 1rem;
	border: 1px solid rgb(var(--gray-light));
	border-radius: 8px;
	transition: box-shadow 0.3s cubic-bezier(0.25,0.8,0.25,1);
	max-width: 400px;
	width: 100%;
}

.nav-item a:hover {
	box-shadow: var(--box-shadow);
}

.nav-label {
	font-size: 0.875rem;
	color: rgb(var(--gray));
	margin-bottom: 0.5rem;
	font-weight: 500;
}

.nav-title {
	font-weight: 600;
	line-height: 1.3;
}

@media (max-width: 640px) {
	.nav-container {
		grid-template-columns: 1fr;
	}
	
	.nav-older {
		justify-self: start;
		text-align: left;
	}
	
	.nav-item a {
		max-width: none;
	}
}
</style>